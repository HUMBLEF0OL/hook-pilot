#!/bin/sh

echo "ğŸ§¹ Starting Post-Commit Cleanup..."

# -------------------------------
# Configuration Section
# -------------------------------
# Define paths for temporary files or directories, separated by space
dirs_to_clean=".git/temp build/temp logs/temp node_modules/.cache .next/cache"
files_to_clean="*.log *.tmp *.bak"

# -------------------------------
# Cleanup Temporary Files/Directories
# -------------------------------
echo "ğŸ§¹ Cleaning up temporary files and directories..."
for dir in $dirs_to_clean; do
  if [ -d "$dir" ]; then
    echo "ğŸ—‘ Removing $dir..."
    rm -rf "$dir"
    echo "âœ… $dir cleaned up."
  else
    echo "â„¹ï¸ $dir not found. Skipping."
  fi
done

# -------------------------------
# Final Cleanup Tasks
# -------------------------------
echo "ğŸ—‘ Removing stray or unnecessary files..."
for pattern in $files_to_clean; do
  find . -type f -name "$pattern" -exec rm -f {} +
  echo "âœ… Removed files matching $pattern."
done

# -------------------------------
# Finalize
# -------------------------------
echo "âœ… Post-commit cleanup completed successfully."
